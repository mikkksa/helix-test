/**
* LightGallery v1.3
* Author: Dmitri Ischenko ischenkodv@gmail.com
* Freely distributable under MIT-style license
*/
var lightgallery=(function(){var h,g,c,a,H,ad,J={showOverlay:true,overlayColor:"#000",overlayOpacity:0.85,zoomStep:0.2,animate:true,framesNumber:20,speed:30,resizeSync:false,enableZoom:true,fadeImage:true,alias:"lightgallery",fullSize:false,minPadding:15},al={next:"Next",prev:"Previous",zoomIn:"Zoom In",zoomOut:"Zoom Out",fullSize:"Full Size",fitScreen:"Fit screen",close:"Close",image:"Image",of:"of"},p,T,Q,s,L,b,k,x,l,aj,d,B,w,ai,af="hidden",am="visible",y="block",U="none",z="opacity",I="left",S="top",i="width",P="height",an="px",A="div",Y=window,R=document,f;var r={setLangVars:function(G){t(al,G)},init:function(at){if(at){t(J,at)}J.fullSize=J.fullSize?1:0;if(!a){return V()}if(/MSIE ([^;]+)/.test(navigator.userAgent)){p=parseFloat(RegExp["$1"])}f=[];var av=R.getElementsByTagName("a"),au=new RegExp("^"+J.alias+"\\[([a-zA-Z]+)\\]|"+J.alias+"$"),ar;for(var aq=0,ap=av.length;aq<ap;aq++){if(av[aq].rel&&(ar=av[aq].rel.match(au))){m(av[aq],"click",r.showImage);if(ar=ar[1]){av[aq].__gallery__=ar;if(!f[ar]){f[ar]=[]}av[aq].__index__=f[ar].push(av[aq])-1}}}var G=R.getElementsByTagName("body")[0];G.appendChild(ai=ao(A,{id:"LG_overlay",events:{click:r.close}}));G.appendChild(T=D());innerCont=T.lastChild;m((G.attachEvent)?G:Y,"keypress",v);(x=ao("img")).onload=function(){e();l.setAttribute("src",x.src);q(J.fullSize,true);o()};g=T.offsetHeight;c=p?200:T.offsetWidth;h=0;ab(ai,{background:(J.overlayColor),display:U});aa(ai,J.overlayOpacity)},open:function(){if(d){return}n();l.style.display=y;q();ab(T,{visibility:am,display:y});d=1},close:function(){M();ab(T,{visibility:af,display:U});d=0;x.src=l.src=""},zoomIn:function(){r.Zoom(1+J.zoomStep)},zoomOut:function(){r.Zoom(1-J.zoomStep)},zoomNormal:function(){if(this.$disabled){return}r.Zoom(l.width==x.width&&l.height==x.height?0:1)},Zoom:function(G){ah();q(G)},showImage:function(ap){var G=this.__index__;N(ap||Y.event);if(this.__gallery__&&G>-1){aj=this.__gallery__;r.show(G)}else{r.showSingle(this)}},showSingle:function(G){r.open();ah();E();x.src=G.href;Q.innerHTML=G.title;b.innerHTML="";s.style.visibility=L.style.visibility=af},show:function(ap){if(ap<0||ap>f[aj].length-1||(J.animate&&ad)){return}r.open();var G=f[aj],aq=L.style,ar=s.style;ah();E();ad=1;x.src=G[ap].href;Q.innerHTML=G[ap].title;b.innerHTML=al.image+" "+(ap+1)+" "+al.of+" "+G.length;B=ap;ac()?aq.visibility=am:aq.visibility=af;u()?ar.visibility=am:ar.visibility=af;Y.focus()},next:function(){r.show(B+1)},prev:function(){r.show(B-1)}};function ac(){return(B<(f[aj].length-1))?true:false}function u(){return(B)?true:false}function o(){var G=f[aj];if(!G){return}if(G[B+1]){(new Image).src=G[B+1].href}if(G[B-1]){(new Image).src=G[B-1].href}}function n(ap){if(J.showOverlay){var G=C();ab(ai,{width:G[0]+"px",height:G[1]+"px"});if(ai.style.display!=y){ab(ai,{display:y});F(ai,{end:J.overlayOpacity*100,onend:ap})}}else{if(typeof ap=="function"){ap.call(this)}}}function M(){ae(ai,{start:J.overlayOpacity*100,onEnd:function(){ai.style.display=U}})}function q(aH,aB){var au,aL,az,aJ,aE=J.minPadding*2,aD=J.framesNumber,aI=x.width,aK=x.height,aF=C(),aq=aF[2],av=aF[3],aw=aq-aE-h,aM=av-aE-g;if(aH==0||(aB&&!aH)){if(aI>aw||aK>aM){var aA=aw,aG=aw*aK/aI;if(aG>aM){aG=aM;aA=aM*aI/aK}az=(l.width=aA)+h;aJ=(l.height=aG)+g}else{az=(l.width=aI)+h;aJ=(l.height=aK)+g}}else{if(aH==1){az=(l.width=aI)+h;aJ=(l.height=aK)+g}else{if(aH<1||aH>1){az=(l.width*=aH)+h;aJ=(l.height*=aH)+g}else{az=aJ=300;var ap=true}}}if(au=(az>(aw+h)||aJ>(aM+g))){aL=al.fitScreen;fsClass="LG_fitScreen"}else{if(l.width!=aI||l.height!=aK){aL=al.fullSize;fsClass="LG_zoomNormal"}}k.$disabled=false;if(l.width==aI){if(au){k.id=fsClass;k.setAttribute("title",aL)}else{k.id="LG_zoom_disabled";k.$disabled=true}}else{k.id="LG_zoomNormal";k.setAttribute("title",al.fullSize)}az=Math.max(az,c);var aN=W(),ax=(av>aJ?(av-aJ)/2:J.minPadding)+aN[1],ay=(aq>az?(aq-az)/2:J.minPadding)+aN[0],aC=(az/3)+"px",G=(aJ-g-10)+"px";ab(L,{width:aC,height:G});ab(s,{width:aC,height:G});if(J.animate&&!ap){var at=new K(T,aD,J.speed);if(J.resizeSync){at.addThread(i,0,az,0,aD).addThread(I,0,ay,0,aD).addThread(P,0,aJ,0,aD).addThread(S,0,ax,0,aD)}else{var aO=Math.ceil(aD/2);at.addThread(i,0,az,0,aO).addThread(I,0,ay,0,aO).addThread(P,0,aJ,aO,aD).addThread(S,0,ax,aO,aD)}at.onEnd=function(){n();O()};at.run()}else{ab(T,{top:ax+an,left:ay+an,width:az+an,height:aJ+an});n();O()}}function O(){innerCont.style.display=y;if(J.fadeImage){F(l,{frames:8,speed:J.speed,onEnd:function(){ad=0}})}else{aa(l,100);ad=0}}function ah(){innerCont.style.display=U}function E(){w.style.display=y}function e(){w.style.display=U}function D(){var ap,G;if(J.enableZoom){ap=ao(A,{id:"LG_zoomIn",title:al.zoomIn,events:{click:r.zoomIn}});G=ao(A,{id:"LG_zoomOut",title:al.zoomOut,events:{click:r.zoomOut}})}return ao(A,{id:"LG_container"},w=ao(A,{id:"LG_loading"}),ao(A,{id:"LG_innerCont"},ao(A,{id:"LG_panel"},ap,G,k=ao(A,{id:"LG_zoomNormal",title:al.fullSize,events:{click:r.zoomNormal}}),b=ao(A,{id:"LG_imgIndex"},al.image+" 20 "+al.of+" 20 "),ao(A,{id:"LG_closeBtn",title:al.close,events:{click:r.close}}),ao(A,{style:"clear:both"})),l=ao("img",{id:"LG_pic",width:300,height:300}),Q=ao(A,{id:"LG_titleBar"}),s=ao(A,{id:"LG_prevLink",title:al.prev,events:{click:r.prev,mouseover:Z,mouseout:ag}}),L=ao(A,{id:"LG_nextLink",title:al.next,events:{click:r.next,mouseover:Z,mouseout:ag}})))}function v(ap){if(!d){return}var ap=ap||Y.event,G=ap.keyCode?ap.keyCode:(ap.which?ap.which:ap.charCode);switch(G){case 110:r.next();break;case 98:r.prev();break;case 102:r.zoomNormal();break;case 43:r.zoomIn();break;case 45:r.zoomOut();break;case 27:r.close();default:return}N(ap)}function Z(){F(this)}function ag(){ae(this)}function F(ap,G){G=G||{};G.start=G.start||0;G.end=G.end||100;ak(ap,G)}function ae(ap,G){G=G||{};G.start=G.start||100;G.end=G.end||0;ak(ap,G)}function ak(aq,ap){if(J.animate){var G=new K(aq,ap.frames||5,ap.speed||40);G.addThread(z,ap.start,ap.end);G.onStart=ap.onStart;G.onEnd=ap.onEnd;G.run()}else{aa(aq,ap.end);if(typeof ap.onEnd=="function"){ap.onEnd()}}}function N(G){if(G.preventDefault){G.preventDefault()}else{G.returnValue=false}}function m(aq,ap,G){if(Y.addEventListener){m=function(au,at,ar){au.addEventListener(at,ar,false)}}else{if(Y.attachEvent){m=function(au,at,ar){var av=function(){ar.call(au,Y.event)};au.attachEvent("on"+at,av)}}}return m(aq,ap,G)}function t(aq,ap){for(var G in ap){aq[G]=ap[G]}}function ab(ap,G){if(ap){t(ap.style,G)}}function C(){var ar,ap,aq,au,G=R.body,at=R.documentElement;if(Y.innerHeight&&Y.scrollMaxY){ar=G.scrollWidth;ap=Y.innerHeight+Y.scrollMaxY}else{if(G.scrollHeight>G.offsetHeight){ar=G.scrollWidth;ap=G.scrollHeight}else{if(at&&at.scrollHeight>at.offsetHeight){ar=at.scrollWidth;ap=at.scrollHeight}else{ar=G.offsetWidth;ap=G.offsetHeight}}}if(Y.innerHeight){aq=Y.innerWidth;au=Y.innerHeight}else{if(at&&at.clientHeight){aq=at.clientWidth;au=at.clientHeight}else{if(G){aq=G.clientWidth;au=G.clientHeight}}}return[ar<aq?aq:ar,ap<au?au:ap,aq,au]}function W(){var aq=0,ap=0,G=R.body,ar=R.documentElement;if(typeof(Y.pageYOffset)=="number"){ap=Y.pageYOffset;aq=Y.pageXOffset}else{if(G&&(G.scrollLeft||G.scrollTop)){ap=G.scrollTop;aq=G.scrollLeft}else{if(ar&&(ar.scrollLeft||ar.scrollTop)){ap=ar.scrollTop;aq=ar.scrollLeft}}}return[aq,ap]}function X(aq,G){var ar=R.defaultView;if(aq.style[G]){return aq.style[G]}else{if(aq.currentStyle){return aq.currentStyle[G]}else{if(ar&&ar.getComputedStyle){G=G.replace(/([A-Z])/g,"-$1");var ap=ar.getComputedStyle(aq,"");return ap&&ap.getPropertyValue(G.toLowerCase())}}}return null}function aa(){aa=arguments[0].filters?function(G,ap){G.style.filter="alpha(opacity="+ap+")"}:function(G,ap){G.style.opacity=ap/100};aa(arguments[0],arguments[1])}function ao(aq,ap){var av=R.createElement(aq);if(ap){for(var at in ap){if(at=="events"){for(var ar in ap[at]){m(av,ar,ap[at][ar])}}else{var aw=ap[at];if(typeof aw!="undefined"){if(at=="class"){av.className=aw}else{av.setAttribute(at,aw)}}}}}for(var au=2,G=arguments.length;au<G;au++){switch(typeof arguments[au]){case"string":av.innerHTML+=arguments[au];break;case"object":av.appendChild(arguments[au])}}return av}function j(){if(!H){if(!R.body){return setTimeout(j,13)}H=true;r.init()}}function V(){if(a){return}a=true;if(R.readyState==="complete"){return j()}if(R.addEventListener){R.addEventListener("DOMContentLoaded",function ap(){R.removeEventListener("DOMContentLoaded",ap,false);j()},false)}else{if(R.attachEvent){R.attachEvent("onreadystatechange",function at(){if(document.readyState==="complete"){R.detachEvent("onreadystatechange",at);j()}});var aq=false;try{aq=Y.frameElement==null}catch(ar){}if(R.documentElement.doScroll&&aq){function G(){if(H){return}try{R.documentElement.doScroll("left")}catch(au){setTimeout(G,1);return}j()}G()}}}}function K(aq,ap,G){if(!aq){return null}this.E=aq;this.N=ap||0;this.F=[];this.S=G||10}K.prototype={addThread:function(at,aq,G,ar,ap){if(!at||G===undefined||G===null){return}if(at!=z){aq=parseFloat(X(this.E,at))}ar=ar||0;ap=ap||this.N;var aw=this.F,av=(ap-ar)||1,au=(aq-G)/av;for(;ar<ap;ar++){if(!aw[ar]){aw[ar]={}}aw[ar][at]=(aq-=au)}return this},P:function(){var ar=this.F.shift(),ap=[],aq=p;if(ar){for(var G in ar){ap.push(G=="opacity"?(aq?"filter: alpha(opacity="+ar[G]+")":"opacity: "+ar[G]/100):G+": "+ar[G]+"px")}this.E.style.cssText+="; "+ap.join("; ")}else{if(typeof this.onEnd=="function"){this.onEnd()}clearInterval(this.I)}},run:function(){clearInterval(this.I);this.P();if(typeof this.onStart=="function"){this.onStart()}var G=this;if(this.N>1){this.I=setInterval(function(){G.P()},this.S)}}};return r})();